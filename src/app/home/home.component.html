<!-- show header only when logged out -->
<div *ngIf="!logged">
  <app-header></app-header>
</div>
<section class="py-5 text-muted">
  <h3><i class="fa-solid fa-robot p-1"></i>Personalized Recommendations</h3>
  <p class="text-primary">
    Log In to view your personalized recommendations! Discover games you'll
    love.
  </p>
  <div class="h-500 d-flex align-items-center justify-content-center" *ngIf="games.length == 0">
    <i class="fa-regular fa-snowflake fa-spin fs-1 fa-2xl"></i>
</div>

  <div class="row">
    <div
      class="col-lg-4 col-md-6 col-12 p-2"
      *ngFor="let game of games | slice : 0 : 3"
    >
      <a
        class="card bigger sec-bg-color text-muted"
        [routerLink]="['/details', game.id]"
      >
        <img [src]="game.thumbnail" class="card-img-top w-100" alt="..." />
        <div
          class="card-body d-flex justify-content-between align-items-center"
        >
          <h5 class="card-title">{{ game.title }}</h5>
          <button class="btn btn-sm btn-primary">Free</button>
        </div>
      </a>
    </div>
  </div>
</section>


<section class="row text-muted">
  <div class="col-lg-8 col-12 px-3">
    <h4>Recently Added</h4>
    <div class="h-500 d-flex align-items-center justify-content-center" *ngIf="games.length == 0">
      <i class="fa-regular fa-snowflake fa-spin fs-1 fa-2xl"></i>
    </div>
    <a *ngFor="let game of games | slice : 4 : 10">
      <a
        class="p-2 d-flex rounded text-white sec-bg-color align-items-center bigger m-1"
        [routerLink]="['/details', game.id]"
      >
        <img [src]="game.thumbnail" class="w-25 rounded" alt="" srcset="" />
        <div class="mx-3 text-muted">
          <h5 class="fw-bold">{{ game.title }}</h5>
          <p>{{ game.short_description }}</p>
          <span class="rounded p-1 bg-dark small-text">{{ game.genre }}</span>
        </div>
        <div class="ms-auto">
          <i class="fa-brands fa-windows"></i>
          <button class="m-4 btn btn-sm btn-primary">Free</button>
        </div>
      </a>
    </a>
  </div>
  <aside class="col-lg-3 col-12 p-0">
    <h4>Most Played Today</h4>
    <div class="h-500 d-flex align-items-center justify-content-center" *ngIf="games.length == 0">
      <i class="fa-regular fa-snowflake fa-spin fs-1 fa-2xl"></i>
    </div>
    <div
      class="position-relative my-2 bigger"
      *ngFor="let game of games | slice : 10 : 14"
    >
      <a [routerLink]="['/details', game.id]">
        <img [src]="game.thumbnail" class="w-100 rounded" alt="" srcset="" />
        <button
          class="m-4 btn btn-sm btn-primary position-absolute end-0 bottom-0"
        >
          Free
        </button>
      </a>
    </div>
  </aside>
  <button class="btn btn-outline-light col-2 m-auto">More Games</button>
</section>
<section class="row">
  <h4>Community Recommendations</h4>
  <div class="p-3 col-lg-6 col-12" *ngFor="let game of games | slice : 15 : 17">
    <a
      class="bg-dark d-flex p-3 py-4 text-muted rounded"
      [routerLink]="['/details', game.id]"
    >
      <div class="col-6">
        <div class="card bigger border-0 sec-bg-color">
          <img [src]="game.thumbnail" class="card-img-top w-100" alt="..." />
          <div
            class="card-body d-flex justify-content-between align-items-center"
          >
            <h5 class="card-title">{{ game.title }}</h5>
            <button class="btn btn-sm btn-primary">Free</button>
          </div>
        </div>
      </div>
      <div class="col-6 ps-3">
        <p>
          <i class="fa-solid fa-quote-left pe-2"></i>
          {{ game.short_description }}
          {{ game.short_description }}
        </p>
      </div>
    </a>
  </div>
</section>

<section class="w-75 m-auto my-5 shadow row">
  <div class="col-lg-6 p-0">
    <img src="assets/ftg-img.jpg" class="w-100" alt="" srcset="" />
  </div>
  <div class="col-lg-6 py-3 text-muted">
    <h4>More Fun and More Rewarding!</h4>
    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio ad maxime
      aperiam facilis nesciunt totam minus distinctio aspernatur alias
      perferendis esse accusamus consequuntur molestiae incidunt perspiciatis
      doloribus, nostrum doloremque nisi.
    </p>
    <div>
      <button class="btn btn-primary p-2">JOIN NOW</button>
      <button class="btn btn-outline-light p-2 ms-2">Learn More</button>
    </div>
  </div>
</section>
